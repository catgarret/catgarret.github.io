var projectId,craftsNum,nowState=0;const projectCover=$("div#projectCover"),craftList=$("#list");function coverClose(){projectCover.fadeOut(200),$("html").css("background-image","none"),$("div#projectCover section.contentWrap").empty(),$("body").css("overflow-y","auto")}function projectClose(){$("#iframeView").addClass("bounceOutDown"),setTimeout(function(){$("#iframeView").hide(0).removeClass("bounceOutDown"),$("#iframeView iframe").attr("src","about:blank")},2e3)}function scrollBarMake(){craftList.mCustomScrollbar({axis:"x",theme:"dark-thin",autoExpandScrollbar:!0,moveDragger:!0,advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0},mouseWheel:{enable:!0,scrollAmount:300},callbacks:{onUpdate:function(){craftList.mCustomScrollbar("scrollTo","0",{scrollInertia:0})}}})}$(document).ready(function(){craftList.load("./craft/craft_list.html"),$(document).ajaxComplete(function(){craftList.mixItUp({selectors:{target:".item"},animation:{enable:!1},callbacks:{onMixLoad:function(t){scrollBarMake()},onMixEnd:function(t){$(".mCSB_container").css("width",$(".mCSB_container ul").outerWidth())}}}),craftsNum=$("#list ul li").length,$("div.documentTitle h3 span.num").animate({Counter:craftsNum},{duration:800,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}});const t=$("nav#list a");t.hover(function(){projectId=$(this).parent().data("id"),$(this).find("span:nth-child(1)").scramble(),$(this).find("span:nth-child(2)").scramble();var t=projectId+"_background.webp";$("html").css("background-image","url('./common/images/craft/"+t+"')")},function(){$("html").css("background-image","none")}),t.click(function(){nowState=1;var t="./craft/"+(projectId=$(this).parent().data("id"))+".html",o=projectId+"_background.jpg";return $("#projectCover section.contentWrap").load(t,function(){$("body").css("overflow-y","hidden"),projectCover.fadeIn(200),projectCover.css("display","flex"),setTimeout(function(){$("html").css("background-image","url('./common/images/craft/"+o+"')")},120)}),!1})}),$("nav.category button").click(function(){$("nav.category li.active").removeClass("active"),$(this).parent().addClass("active"),$("button[aria-pressed]").attr("aria-pressed",!1),$(this).attr("aria-pressed",!0)}),$(".scrollBtn .left").click(function(){craftList.mCustomScrollbar("scrollTo","+=1700")}),$(".scrollBtn .right").click(function(){craftList.mCustomScrollbar("scrollTo","-=1700")}),setTimeout(function(){$("nav#list, ul.scrollBtn").addClass("load")},800)}),$(document).keyup(function(t){27==t.keyCode&&1==nowState&&(coverClose(),nowState=0)});